[gd_scene load_steps=9 format=3 uid="uid://dysl4qvaovevq"]

[ext_resource type="PackedScene" uid="uid://nqiyqnx42m61" path="res://addons/godot-xr-tools/hands/scenes/highpoly/left_fullglove_physics_hand.tscn" id="2_fhl08"]
[ext_resource type="PackedScene" uid="uid://b4ysuy43poobf" path="res://addons/godot-xr-tools/functions/function_pickup.tscn" id="2_gwnis"]
[ext_resource type="PackedScene" uid="uid://cigx2gnf4tg4d" path="res://addons/godot-xr-tools/hands/scenes/highpoly/right_fullglove_physics_hand.tscn" id="3_fhl08"]
[ext_resource type="Script" uid="uid://covp6418gkimy" path="res://Player/haptics_manager.gd" id="4_fhl08"]
[ext_resource type="Script" uid="uid://b1dtx7o3p7qgq" path="res://addons/godot-xr-tools/rumble/rumbler.gd" id="5_vtle1"]
[ext_resource type="Script" uid="uid://cuf42fufnnrds" path="res://addons/godot-xr-tools/rumble/rumble_event.gd" id="6_od3ui"]

[sub_resource type="Resource" id="Resource_fhl08"]
script = ExtResource("6_od3ui")
duration_ms = 50
metadata/_custom_type_script = "uid://cuf42fufnnrds"

[sub_resource type="Resource" id="Resource_vtle1"]
script = ExtResource("6_od3ui")
magnitude = 0.2
duration_ms = 10
metadata/_custom_type_script = "uid://cuf42fufnnrds"

[node name="Player" type="XROrigin3D"]

[node name="XRCamera3D" type="XRCamera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 3.0718591, 0)

[node name="LeftHand" type="XRController3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 1, -0.5)
tracker = &"left_hand"

[node name="LeftPhysicsHand" parent="LeftHand" instance=ExtResource("2_fhl08")]

[node name="FunctionPickup" parent="LeftHand" instance=ExtResource("2_gwnis")]
grab_distance = 0.1
ranged_enable = false

[node name="RightHand" type="XRController3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 1, -0.5)
tracker = &"right_hand"

[node name="RightPhysicsHand" parent="RightHand" instance=ExtResource("3_fhl08")]

[node name="FunctionPickup" parent="RightHand" instance=ExtResource("2_gwnis")]
grab_distance = 0.1
ranged_enable = false

[node name="HapticsManager" type="Node" parent="."]
script = ExtResource("4_fhl08")

[node name="PickUpRumbler" type="Node" parent="HapticsManager"]
script = ExtResource("5_vtle1")
event = SubResource("Resource_fhl08")
metadata/_custom_type_script = "uid://b1dtx7o3p7qgq"

[node name="HoverItemRumbler" type="Node" parent="HapticsManager"]
script = ExtResource("5_vtle1")
event = SubResource("Resource_vtle1")
metadata/_custom_type_script = "uid://b1dtx7o3p7qgq"

[connection signal="has_hover_entered" from="LeftHand/FunctionPickup" to="HapticsManager" method="_on_left_hand_hover_entered"]
[connection signal="has_picked_up" from="LeftHand/FunctionPickup" to="HapticsManager" method="_on_left_hand_picked_up"]
[connection signal="has_hover_entered" from="RightHand/FunctionPickup" to="HapticsManager" method="_on_right_hand_hover_entered"]
[connection signal="has_picked_up" from="RightHand/FunctionPickup" to="HapticsManager" method="_on_right_hand_picked_up"]
